:toc: macro
:toclevels: 4
:sectnums:

= Writers' Guide

This guide will help you write your first blog post using basic AsciiDoc syntax.
It also describes blog paramters used to control aspects of post sort order, and category tags.
Read this guide if you are new to writing AsciiDoc mark-up, or have not used HubPress to create a blog post before.

NOTE: If you can write a text email, you can create great blog posts with AsciiDoc and HubPress.

toc::[]

== About AsciiDoc

If you have never used AsciiDoc before to write content, the http://asciidoctor.org/docs/asciidoc-writers-guide/[AsciiDoctor Writer's Guide] should be your first stop in your journey.
The guide provides both basic and advanced mark-up examples for you to copy and use.

HubPress Editor displays the AsciiDoc code on the left, and the live preview on the right.

== Blog Title and Headings

HubPress uses the Asciidoctor `Article` container to structure posts.

The blog title is always Level 1 in an AsciiDoc post. For example, `= Blog Title` sets the name of the Blog Post to `Blog Title` when published.

IMPORTANT: A `= Blog Title` is required for the blog post to save. This is one of the most common support cases raised on the issue tracker.

If you want a first-level heading you use `== First Level Heading`, and so on to create other nested headings.

== HubPress Parameters

HubPress allows you to alter characteristics of each blog post using attributes.

=== :hp-image: for Blog Post Cover Images

If you want to add a cover image to your Blog Post, set the `hp-image` attribute.

.:hp-image: Example
[source, asciidoc]
----
= Blog Title
:hp-image: a-cover-image.jpg
----

NOTE: Because HubPress defaults the `/images` directory as the root for all images, you only need to declare the filename of the image. Because of this, you may want to consider creating a `/covers` directory in your repository to group the cover images together.
Naming the cover images consistently will make it very easy to apply to every post. If you have a theme to your blog, this allows your readers to get a visual clue as to what the post is about.

The themes that currently support blog post cover images are:

* Saga

=== :published_at: to Alter the Publication Date

By default, the publication date is the date you created the Blog Post. You can force the publication date by adding the `:published_at:` attribute.

.:published_at: Example
[source, asciidoc]
----
= Blog Title
:published_at: 2015-01-31
----

=== :hp-tags: for Metadata Tags

NOTE: Categories are not supported.

Add tags by using the `hp-tags` attribute.

.:hp-tags: Example
[source, asciidoc]
----
= Blog Title
:hp-tags: HubPress, Blog, Open Source,
----

=== :hp-alt-title: to Specify an Alternative Title

Specify an alternative title using the `hp-alt-title` attribute.

The alternative title is used instead of the HTML file name generated by HubPress.

.:hp-alt-title: Example
[source, asciidoc]
----
= 大千世界
:hp-alt-title: My English Title
----

=== :compat-mode: to Control Legacy AsciiDoc Markup Patterns

Specify how code samples containing AsciiDoc markup patterns are processed. Some code samples may contain delimited asterix symbols that are interpreted like processing instructions by Asciidoctor.

If you find that your code samples are not displaying correctly, specify `:compat-mode: true` to disable processing in code blocks.

.:compat-mode: Example
[source, asciidoc]
----
= Blog Title
:compat mode: true
    `egrep '\(\ *\)\ *\{' /var/log/nginx/*`
----

If `:compat-mode:` was not specified here, the code sample would render like this:

    egrep '\(\ \)\ *\{' /var/log/nginx/

For more information about `:compat-mode:`, see the http://asciidoctor.org/docs/migration/#compat-mode[AsciiDoctor Migration Guide].

[[Adding_Images]]
== Adding Images

=== Use the /images Directory in Your Repository

You can use Git command line or a Git app to add images to your blog posts:

. Commit images to the `/images` directory.
. In your blog post, use the following basic AsciiDoc syntax:
+
[source,asciidoc]
----
image::<filename>[]
----
. See http://asciidoctor.org/docs/asciidoc-writers-guide/ for complex examples of Image syntax.

If you are embedding images from a hosted source (such as instagram, another GitHub repository, or any photo hosting site) put the full URL to the image in place of the `<filename>`.

.Hosted Image Embed
----
image::http://<full path to image>[]
----

=== Use GitHub Issues as an Image Hosting Container

You can use a single issue as an image container for a blog post containing many issues by uploading multiple images as comments.
Alternatively, you can use multiple issues to store individual images.

Whatever works best for you, and your organization style.

Watch this five minute video for a demonstration about how to use GitHub Issues and Cloud Hosting services as embed targets, and some bonus tips on using the `image` AsciiDoc syntax.

video::KoaGU91qJv8[youtube]

== Embedding Video

HubPress allows you to embed video and audio directly into your blog post by using a quick notation in your blog post.

You don't need to declare the full URL: all you need is the unique video ID.

```
video::[unique_youtube_video_id][youtube | vimeo]
```

.YouTube Video Embed
[source,asciidoc]
----
video::KCylB780zSM[youtube]
----

.Vimeo Video Embed
[source,asciidoc]
----
video::67480300[vimeo]
----

== Embedding Audio

While YouTube and Vimeo have pre-defined short notations in Asciidoctor, other services like BandCamp or SoundCloud require a block passthrough to be declared.
Block passthroughs are described in detail in the http://asciidoctor.org/docs/user-manual/#pass-bl[Asciidoctor User Manual].

.BandCamp Audio Embed
[source,asciidoc]
----
++++
<iframe style="border: 0; width: 350px; height: 470px;" src="//bandcamp.com/EmbeddedPlayer/album=2869458964/size=large/bgcol=333333/linkcol=0f91ff/tracklist=false/transparent=true/" seamless><a href="http://mocamborecords.bandcamp.com/album/showdown">SHOWDOWN by THE MIGHTY MOCAMBOS</a></iframe>
++++
----

TIP: The trick with block passthroughs (no matter the type) is to ensure any `src` value does not contain a mixed protocol.
For example if the `src` link contained `http` and your blog uses a `https` protocol, the embed would fail.

Some <iframe> elements provided by these sites may include the protocol, and you will need to strip the protocol out when declaring passthrough blocks.

The source link is essentially an absolute target to the hosted file on the service.
The `//` opens the pointer to the file.
See https://github.com/HubPress/hubpress.io/issues/136[this issue] which describes the journey to discovering how to embed content other than Vimeo and YouTube content.

== Troubleshooting

HubPress' unique authoring environment is backed by a locally-stored database, specific to your Browser and Operating System.

If you switch devices or browser instances, you lose the synchronicity between browsers.
HubPress subsequently gets a globally-corrupted GitHub authentication token and any attempts to synchronize any changes from the primary Chrome instance fails.

In most cases, resetting the Hosted App Data in the browser is all it takes to bring normality back to your HubPress fork.

=== Resetting Blog Database on Android

Clear the browser Cache and Data in Android.

. Tap Settings > Apps > Chrome.
. Clear Cache and Data.
. Restart the Chrome App.

HubPress is forced to rebuild the local database, and will resync its GitHub authentication token.

=== Resetting Blog Database on Desktop

Chrome Desktop shares similar behavior with Chrome for Android.

Rather than having to reset the entire cache and data in the app, Chrome Desktop is a little less extreme in what you need to reset.

. Close the malfunctioning HubPress tab in the browser.
. Click `Settings`.
. Click `Show advanced settings`.
. In the `Privacy` group, click `Clear browsing data`.
. Select "Obliterate the following items from: `The beginning of time`".
. Clear all check-marks *except for* `Hosted app data`.
. Click `Clear browsing data`.
. Open a tab, and load the HubPress Admin Console for your blog.
. Attempt to republish a post.

You should have a successful post publish where the process previously failed.

== Frequently Asked Questions

There are some commonly-asked questions in the issue tracker that are worth calling out here.

=== How Do I Use HubPress with Multiple Users?

You can _technically_ use the same HubPress instance with multiple authors, but it requires some trust from the other users you give access.

There are some points to consider before opening up your blog instance to other contributiors.

Attribution::
    There is no way to attribute a blog user to individual posts at this stage, unless you perhaps use a :hp-tags: category for the name of each contributor (a crude work-around at best).
Global User Name::
    Blog posts are attributed to the primary GitHub User who configures the Settings page. If someone you invite to co-author your blog saves changes to the Settings page, *all* blog posts will have that author as the person who wrote blog posts in your HubPress instance.

If you have a close, trusted team of bloggers who just want to write posts, then you can use HubPress together.

Understand that HubPress is really only suited to single bloggers, and does not offer and GitHub authentication intelligence for blogging teams.

=== Can I Specify Other Asciidoctor Backend


HubPress only supports the HTML5 backend.

Specifying other backend types will result in an error similar to:

    Uncaught RuntimeError: asciidoctor: FAILED: missing converter for backend 'deckjs'. Processing aborted.

If you do want to use a different backend to process your AsciiDoc files, the http://asciidoctor.org/docs/user-manual/#selecting-an-output-format[Asciidoctor User Guide] can help you work out the backend that is right for you, for use with the +asciidoctor+ command-line script.

=== Can I create posts in my repository, and not through the interface?

You can edit your posts in a local copy of your HubPress repository, however you will need to log onto HubPress Admin to publish your post.

If you want a near WYSIWYG interface to edit your AsciiDoc files, applications like http://atom.io[Atom Editor] or http://asciidocfx.com[AsciidocFX Editor] are excellent choices.

== Donations

HubPress is now on https://gratipay.com/hubpress/[Gratipay]!

image::https://cloud.githubusercontent.com/assets/2006548/12901016/7b09da22-ceb9-11e5-93f7-16ab135b2e2e.png[]

It's not the only way you can help us, but it is certainly a welcome one. Donations are a great way to show your appreciation for the platform: it inspires us to dedicate extra time away from our families and day jobs to make HubPress an awesome blogging platform for you.

image::https://cloud.githubusercontent.com/assets/2006548/12901085/cc5ee908-ceb9-11e5-9d8b-c526f081f1e9.png[]
